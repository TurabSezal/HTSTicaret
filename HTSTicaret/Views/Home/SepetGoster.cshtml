@model List<HTSTicaret.WebUI.App_Classes.SepetItem>
<div class="cart-all">
    <i class="icon-19" title="19"></i>
    <span></span>
    <div class="inside-cart">
        <ul class="product-list">

            @foreach (var urun in Model)
            {
                <li>
                    <div class="product-item">
                        <a href="UrunDetay/@urun.urun.Id">
                            <img src="@urun.urun.Resim.OrtaYol" alt="Ürün Resmi" />
                        </a>
                        <div class="product-info">
                            <a href="UrunDetay/@urun.urun.Id" class="product-name">@urun.urun.Adi</a>
                            <p class="product-price">@(string.Format("{0:N}", @urun.urun.SatisFiyati)) TL</p>
                            <button class="remove-button" onclick="SepettenCikar('@urun.urun.Id')">Çıkar</button>
                        </div>
                    </div>
                </li>
            }

        </ul>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    function SepettenCikar(urunId) {
        $.ajax({
            url: '@Url.Action("SepettenCikar", "Home")',
            type: 'POST',
            data: { id: urunId },
            success: function (result) {
                // Sepet güncellendiğinde yapılacak işlemler
                // Örneğin, sepetin yeniden yüklenmesi veya sayfanın güncellenmesi gibi
                location.reload(); // Sayfayı yenilemek için örnek bir işlem
            },
            error: function (xhr, status, error) {
                // Hata durumunda yapılacak işlemler
            }
        });
    }
</script>
